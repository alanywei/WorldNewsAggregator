{"ast":null,"code":"var _jsxFileName = \"/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/src/components/Articles.js\";\nimport { func } from 'prop-types';\nimport React from 'react';\nimport ArticleRow from './ArticleRow';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Articles = props => {\n  /*for (const item of props.items) {\n  //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n  //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n  //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n  // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n  //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n  }*/\n  const getImgSource = source => {\n    const siteName = source;\n    var picLink;\n    var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`);\n    getRequestPromise.then(response => {\n      if (response.data.length() == 0) {\n        var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`);\n        googleGetRequestPromise.then(response => {\n          picLink = response.data.items[0].link;\n          const postrequest = {\n            site: siteName,\n            link: picLink\n          };\n          var postpromise = axios.post(\"http://localhost:5000/site/add\", postrequest);\n          postpromise.then(response => {\n            console.log(postpromise);\n          });\n        });\n      } else {\n        picLink = response.data.picLink;\n      }\n\n      return picLink;\n    });\n  };\n\n  const rows = [];\n\n  for (const item of props.items) {\n    rows.push( /*#__PURE__*/_jsxDEV(ArticleRow, {\n      title: item.getElementsByTagName(\"title\")[0].innerHTML,\n      link: item.getElementsByTagName(\"link\")[0].innerHTML,\n      description: item.getElementsByTagName(\"description\")[0].innerHTML,\n      source_url: item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"),\n      source: item.getElementsByTagName(\"source\")[0].innerHTML,\n      imgSource: getImgSource(item.getElementsByTagName(\"source\")[0].innerHTML)\n    }, rows.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"component-articles\",\n    children: rows\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"sources":["/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/src/components/Articles.js"],"names":["func","React","ArticleRow","axios","Articles","props","getImgSource","source","siteName","picLink","getRequestPromise","get","then","response","data","length","googleGetRequestPromise","items","link","postrequest","site","postpromise","post","console","log","rows","item","push","getElementsByTagName","innerHTML","getAttribute"],"mappings":";AAAA,SAASA,IAAT,QAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB;AACJ;AACA;AACA;AACA;AACA;AACA;AAEI,QAAMC,YAAY,GAAIC,MAAD,IAAY;AAC7B,UAAMC,QAAQ,GAAGD,MAAjB;AACA,QAAIE,OAAJ;AACA,QAAIC,iBAAiB,GAAGP,KAAK,CAACQ,GAAN,CAAW,8BAA6BH,QAAS,EAAjD,CAAxB;AACAE,IAAAA,iBAAiB,CAACE,IAAlB,CAAuBC,QAAQ,IAAI;AAC/B,UAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,MAA0B,CAA7B,EAA+B;AAC3B,YAAIC,uBAAuB,GAAGb,KAAK,CAACQ,GAAN,CAAW,kIAAiIH,QAAS,QAArJ,CAA9B;AACAQ,QAAAA,uBAAuB,CAACJ,IAAxB,CAA6BC,QAAQ,IAAI;AACrCJ,UAAAA,OAAO,GAAGI,QAAQ,CAACC,IAAT,CAAcG,KAAd,CAAoB,CAApB,EAAuBC,IAAjC;AACA,gBAAMC,WAAW,GAAG;AAChBC,YAAAA,IAAI,EAAEZ,QADU;AACAU,YAAAA,IAAI,EAAET;AADN,WAApB;AAGE,cAAIY,WAAW,GAAIlB,KAAK,CAACmB,IAAN,CAAW,gCAAX,EAA6CH,WAA7C,CAAnB;AACAE,UAAAA,WAAW,CAACT,IAAZ,CAAiBC,QAAQ,IAAI;AAC3BU,YAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD,WAFD;AAGL,SATD;AAWH,OAbD,MAaO;AACHZ,QAAAA,OAAO,GAAGI,QAAQ,CAACC,IAAT,CAAcL,OAAxB;AACH;;AACD,aAAOA,OAAP;AACH,KAlBD;AAmBH,GAvBD;;AAyBA,QAAMgB,IAAI,GAAG,EAAb;;AACA,OAAK,MAAMC,IAAX,IAAmBrB,KAAK,CAACY,KAAzB,EAAgC;AAC5BQ,IAAAA,IAAI,CAACE,IAAL,eACA,QAAC,UAAD;AAEI,MAAA,KAAK,EAAID,IAAI,CAACE,oBAAL,CAA0B,OAA1B,EAAmC,CAAnC,EAAsCC,SAFnD;AAGI,MAAA,IAAI,EAAIH,IAAI,CAACE,oBAAL,CAA0B,MAA1B,EAAkC,CAAlC,EAAqCC,SAHjD;AAII,MAAA,WAAW,EAAIH,IAAI,CAACE,oBAAL,CAA0B,aAA1B,EAAyC,CAAzC,EAA4CC,SAJ/D;AAKI,MAAA,UAAU,EAAIH,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,EAAuCE,YAAvC,CAAoD,KAApD,CALlB;AAMI,MAAA,MAAM,EAAIJ,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,EAAuCC,SANrD;AAOI,MAAA,SAAS,EAAIvB,YAAY,CAACoB,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,EAAuCC,SAAxC;AAP7B,OACWJ,IAAI,CAACV,MADhB;AAAA;AAAA;AAAA;AAAA,YADA;AAWH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,cACKU;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAxDD;;KAAMrB,Q;AA0DN,eAAeA,QAAf","sourcesContent":["import { func } from 'prop-types';\nimport React from 'react'\nimport ArticleRow from './ArticleRow'\nimport axios from 'axios'\n\nconst Articles = (props) => {\n    /*for (const item of props.items) {\n    //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n    //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n    //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n    // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n    //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n    }*/\n\n    const getImgSource = (source) => {\n        const siteName = source\n        var picLink\n        var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`)\n        getRequestPromise.then(response => {\n            if(response.data.length() == 0){\n                var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`)\n                googleGetRequestPromise.then(response => {\n                    picLink = response.data.items[0].link\n                    const postrequest = {\n                        site: siteName, link: picLink\n                      }\n                      var postpromise  = axios.post(\"http://localhost:5000/site/add\", postrequest)\n                      postpromise.then(response => {\n                        console.log(postpromise)\n                      })\n                })\n\n            } else {\n                picLink = response.data.picLink\n            }\n            return picLink\n        })\n    }\n\n    const rows = []\n    for (const item of props.items) {\n        rows.push(\n        <ArticleRow\n            key = {rows.length}\n            title = {item.getElementsByTagName(\"title\")[0].innerHTML}\n            link = {item.getElementsByTagName(\"link\")[0].innerHTML}\n            description = {item.getElementsByTagName(\"description\")[0].innerHTML}\n            source_url = {item.getElementsByTagName(\"source\")[0].getAttribute(\"url\")}\n            source = {item.getElementsByTagName(\"source\")[0].innerHTML}\n            imgSource = {getImgSource(item.getElementsByTagName(\"source\")[0].innerHTML)}\n        />\n        );\n    }\n\n    return(\n        <div className='component-articles'>\n            {rows}\n        </div>\n    );\n\n\n}\n\nexport default Articles"]},"metadata":{},"sourceType":"module"}