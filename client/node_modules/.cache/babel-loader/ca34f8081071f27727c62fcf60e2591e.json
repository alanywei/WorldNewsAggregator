{"ast":null,"code":"var _jsxFileName = \"/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/client/src/components/Articles.js\",\n    _s = $RefreshSig$();\n\nimport { func } from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport ArticleRow from './ArticleRow';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Articles = props => {\n  _s();\n\n  /*for (const item of props.items) {\n  //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n  //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n  //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n  // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n  //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n  }*/\n  const rows = [];\n  console.log(\"rows\", rows.length);\n  const [actualRows, setActualRows] = useState([]);\n  var totalItShouldBe = props.items.length;\n  let articlesDisplayed = 0;\n  let articlesToCurrArtIndex = props.currentArticleIndex;\n  console.log(\"current article index\", props.currentArticleIndex);\n  useEffect(() => {\n    for (const item of props.items) {\n      if (articlesDisplayed >= props.numArticlesPreferred) {\n        break;\n      } else if (articlesToCurrArtIndex > 0) {\n        articlesToCurrArtIndex -= 1;\n        continue;\n      }\n\n      articlesDisplayed += 1;\n      const siteName = item.getElementsByTagName(\"source\")[0].innerHTML;\n      var picLink;\n      console.log(\"it reached here\");\n      var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`);\n      getRequestPromise.then(response => {\n        if (response.data == null) {\n          var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`);\n          googleGetRequestPromise.then(response => {\n            picLink = response.data.items[0].link;\n            const postrequest = {\n              site: siteName,\n              link: picLink\n            };\n            var postpromise = axios.post(\"http://localhost:5000/site/add\", postrequest);\n            postpromise.then(response => {\n              console.log(postpromise);\n            });\n          }).catch(function (error) {\n            totalItShouldBe = totalItShouldBe - 1;\n            console.log(error.message);\n          });\n        } else {\n          picLink = response.data.picLink;\n        }\n\n        rows.push( /*#__PURE__*/_jsxDEV(ArticleRow, {\n          title: item.getElementsByTagName(\"title\")[0].innerHTML,\n          link: item.getElementsByTagName(\"link\")[0].innerHTML,\n          description: item.getElementsByTagName(\"description\")[0].innerHTML,\n          source_url: item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"),\n          source: item.getElementsByTagName(\"source\")[0].innerHTML,\n          imgSource: picLink\n        }, rows.length, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this));\n        console.log(\"it calls article row\", picLink);\n\n        if (rows.length == props.numArticlesPreferred) {\n          console.log(\"item\", props.items.length);\n          console.log;\n          setActualRows(rows);\n          /*ReactDOM.render(\n              rows,\n              (document.getElementById('root')).getElementById('herepls')\n            )*/\n        }\n      }).catch(function (error) {\n        console.log(error.message);\n      });\n    }\n  }, []);\n  console.log(\"it has reached here\"); //if(rows.length != props.items.length){\n  //  return <div>Loading...</div>\n  //} else {\n  //console.log(\"iit hass finally come here\")\n\n  console.log(rows.length); //}\n\n  return actualRows;\n};\n\n_s(Articles, \"FaXWcsBR979iwSlEZEbcjws116w=\");\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"sources":["/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/client/src/components/Articles.js"],"names":["func","React","useState","useEffect","ArticleRow","axios","ReactDOM","App","Articles","props","rows","console","log","length","actualRows","setActualRows","totalItShouldBe","items","articlesDisplayed","articlesToCurrArtIndex","currentArticleIndex","item","numArticlesPreferred","siteName","getElementsByTagName","innerHTML","picLink","getRequestPromise","get","then","response","data","googleGetRequestPromise","link","postrequest","site","postpromise","post","catch","error","message","push","getAttribute"],"mappings":"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","sourcesContent":["import { func } from 'prop-types';\nimport React, { useState, useEffect } from 'react'\nimport ArticleRow from './ArticleRow'\nimport axios from 'axios'\nimport ReactDOM from 'react-dom';\nimport App from '../App';\n\nconst Articles = (props) => {\n    /*for (const item of props.items) {\n    //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n    //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n    //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n    // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n    //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n    }*/\n    const rows = []\n    console.log(\"rows\", rows.length)\n    const [actualRows , setActualRows] = useState([])\n    var totalItShouldBe = props.items.length\n    let articlesDisplayed = 0\n    let articlesToCurrArtIndex = props.currentArticleIndex\n    console.log(\"current article index\", props.currentArticleIndex)\n\n    useEffect(() => {    \n    for (const item of props.items) {\n        if(articlesDisplayed >= props.numArticlesPreferred){ \n            break;\n        } else if(articlesToCurrArtIndex > 0) {\n            articlesToCurrArtIndex -= 1\n            continue;\n        }\n        articlesDisplayed += 1\n\n        const siteName = item.getElementsByTagName(\"source\")[0].innerHTML\n        var picLink\n        console.log(\"it reached here\")\n        var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`)\n        getRequestPromise.then(response => {\n            if(response.data == null){\n                var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`)\n                googleGetRequestPromise.then(response => {\n                    picLink = response.data.items[0].link\n                    const postrequest = {\n                        site: siteName, link: picLink\n                      }\n                      var postpromise  = axios.post(\"http://localhost:5000/site/add\", postrequest)\n                      postpromise.then(response => {\n                        console.log(postpromise)\n                      })\n                })\n                .catch(function(error){\n                    totalItShouldBe = totalItShouldBe - 1;\n                    console.log(error.message)\n                })\n\n            } else {\n                picLink = response.data.picLink\n            }\n            \n            rows.push(\n                <ArticleRow\n                    key = {rows.length}\n                    title = {item.getElementsByTagName(\"title\")[0].innerHTML}\n                    link = {item.getElementsByTagName(\"link\")[0].innerHTML}\n                    description = {item.getElementsByTagName(\"description\")[0].innerHTML}\n                    source_url = {item.getElementsByTagName(\"source\")[0].getAttribute(\"url\")}\n                    source = {item.getElementsByTagName(\"source\")[0].innerHTML}\n                    imgSource = {picLink}\n                />\n            )\n            console.log(\"it calls article row\", picLink)\n            \n            if(rows.length == props.numArticlesPreferred){\n                console.log(\"item\", props.items.length)\n                console.log\n                setActualRows(rows)\n\n                /*ReactDOM.render(\n                    rows,\n                    (document.getElementById('root')).getElementById('herepls')\n                  )*/\n            }\n        })\n        .catch(function (error){\n                console.log(error.message)\n        })\n    }}, [])\n    console.log(\"it has reached here\")\n    \n\n    //if(rows.length != props.items.length){\n      //  return <div>Loading...</div>\n    //} else {\n        //console.log(\"iit hass finally come here\")\n        console.log(rows.length)\n       \n    //}\n    return actualRows\n\n\n}\n\nexport default Articles"]},"metadata":{},"sourceType":"module"}