{"ast":null,"code":"var _jsxFileName = \"/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/src/components/Articles.js\",\n    _s = $RefreshSig$();\n\nimport { func } from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport ArticleRow from './ArticleRow';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Articles = props => {\n  _s();\n\n  /*for (const item of props.items) {\n  //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n  //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n  //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n  // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n  //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n  }*/\n  const [rows, setRows] = useState([]); //useEffect(() => {\n  //const [render, setRender] = useState(1)\n\n  for (const item of props.items) {\n    const siteName = item.getElementsByTagName(\"source\")[0].innerHTML;\n    var picLink;\n    console.log(\"it reached here\");\n    var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`);\n    getRequestPromise.then(response => {\n      if (response.data == null) {\n        var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`);\n        googleGetRequestPromise.then(response => {\n          picLink = response.data.items[0].link;\n          const postrequest = {\n            site: siteName,\n            link: picLink\n          };\n          var postpromise = axios.post(\"http://localhost:5000/site/add\", postrequest);\n          postpromise.then(response => {\n            console.log(postpromise);\n          });\n        }).catch(function (error) {\n          console.log(error.message);\n        });\n      } else {\n        picLink = response.data.picLink;\n      }\n\n      setRows(rows.concat( /*#__PURE__*/_jsxDEV(ArticleRow, {\n        title: item.getElementsByTagName(\"title\")[0].innerHTML,\n        link: item.getElementsByTagName(\"link\")[0].innerHTML,\n        description: item.getElementsByTagName(\"description\")[0].innerHTML,\n        source_url: item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"),\n        source: item.getElementsByTagName(\"source\")[0].innerHTML,\n        imgSource: picLink\n      }, rows.length, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)));\n      console.log(\"it calls article row\", picLink);\n      /*if(rows.length == props.items.length){\n          console.log(\"ti alskdjflaksdjflaksdjflaksj\")\n          return(\n              <div className='component-articles'>\n                  {rows}\n              </div>\n          );\n      }*/\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n  } //}, [])\n\n\n  console.log(\"it has reached here\"); //if(rows.length != props.items.length){\n  //  return <div>Loading...</div>\n  //} else {\n  //console.log(\"iit hass finally come here\")\n\n  console.log(rows.length);\n  return rows; //}\n};\n\n_s(Articles, \"hR9YpnrxwuECfSkxYkxuHkgKgl8=\");\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"sources":["/Users/kk/Desktop/practiceSite2/WorldNewsAggregator/src/components/Articles.js"],"names":["func","React","useState","useEffect","ArticleRow","axios","Articles","props","rows","setRows","item","items","siteName","getElementsByTagName","innerHTML","picLink","console","log","getRequestPromise","get","then","response","data","googleGetRequestPromise","link","postrequest","site","postpromise","post","catch","error","message","concat","getAttribute","length"],"mappings":"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","sourcesContent":["import { func } from 'prop-types';\nimport React, { useState, useEffect } from 'react'\nimport ArticleRow from './ArticleRow'\nimport axios from 'axios'\n\nconst Articles = (props) => {\n    /*for (const item of props.items) {\n    //     console.log(\"Title:\", item.getElementsByTagName(\"title\")[0].innerHTML);\n    //     console.log(\"Link:\", item.getElementsByTagName(\"link\")[0].innerHTML);\n    //     console.log(\"Description:\", item.getElementsByTagName(\"description\")[0].innerHTML);\n    // console.log(\"Source URL:\", item.getElementsByTagName(\"source\")[0].getAttribute(\"url\"));\n    //     console.log(\"Source: \", props.items[0].getElementsByTagName(\"source\")[0].innerHTML); \n    }*/\n    const [rows, setRows] = useState([])\n    //useEffect(() => {\n    //const [render, setRender] = useState(1)\n\n    \n    for (const item of props.items) {\n\n        const siteName = item.getElementsByTagName(\"source\")[0].innerHTML\n        var picLink\n        console.log(\"it reached here\")\n        var getRequestPromise = axios.get(`http://localhost:5000/site/${siteName}`)\n        getRequestPromise.then(response => {\n            if(response.data == null){\n                var googleGetRequestPromise = axios.get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyA3AaU03PcczCRvqdAGzJ-71UfeuD9Anfk&searchType=image&cx=f4372977ac173d7f5&q=${siteName}&num=1`)\n                googleGetRequestPromise.then(response => {\n                    picLink = response.data.items[0].link\n                    const postrequest = {\n                        site: siteName, link: picLink\n                      }\n                      var postpromise  = axios.post(\"http://localhost:5000/site/add\", postrequest)\n                      postpromise.then(response => {\n                        console.log(postpromise)\n                      })\n                })\n                .catch(function(error){\n                    console.log(error.message)\n                })\n\n            } else {\n                picLink = response.data.picLink\n            }\n            \n            setRows(rows.concat(\n                <ArticleRow\n                    key = {rows.length}\n                    title = {item.getElementsByTagName(\"title\")[0].innerHTML}\n                    link = {item.getElementsByTagName(\"link\")[0].innerHTML}\n                    description = {item.getElementsByTagName(\"description\")[0].innerHTML}\n                    source_url = {item.getElementsByTagName(\"source\")[0].getAttribute(\"url\")}\n                    source = {item.getElementsByTagName(\"source\")[0].innerHTML}\n                    imgSource = {picLink}\n                />\n            ))\n            console.log(\"it calls article row\", picLink)\n\n            /*if(rows.length == props.items.length){\n                console.log(\"ti alskdjflaksdjflaksdjflaksj\")\n                return(\n                    <div className='component-articles'>\n                        {rows}\n                    </div>\n                );\n            }*/\n\n\n        })\n        .catch(function (error){\n                console.log(error.message)\n        })\n    }//}, [])\n    console.log(\"it has reached here\")\n    \n\n    //if(rows.length != props.items.length){\n      //  return <div>Loading...</div>\n    //} else {\n        //console.log(\"iit hass finally come here\")\n        console.log(rows.length)\n       return rows\n    //}\n\n\n}\n\nexport default Articles"]},"metadata":{},"sourceType":"module"}